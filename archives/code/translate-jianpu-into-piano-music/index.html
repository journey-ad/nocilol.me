<!DOCTYPE html>
<html lang="zh">
<!--
             -. .                                        
       _____   ',' ,                                    
     ,'     ,'   ', ',                                  
   ,'     ,'      |  |                                  
   \       \       |  |                                  
     \ /^\   \    ,' ,'                                  
           \   \ ,' ,'      L'Internationale,            
     / ~-.___\.-'  ,'            Sera le genre humain.   
   /   .______.- ~ \                                     
 /   /'          \   \                                   
 \./               \/'                                   
                                                         
-->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <title>
        æ¶é­”èè‰æ§
    </title>
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/journey-ad/nocilol.me@ccff62c1/libs/highlight/styles/monokai-sublime.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/journey-ad/nocilol.me@ccff62c1/libs/font-awesome/css/font-awesome.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/journey-ad/nocilol.me@ccff62c1/libs/zpix/zpix.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/journey-ad/nocilol.me@ccff62c1/css/style.css">
      <script src="https://cdn.jsdelivr.net/gh/journey-ad/nocilol.me@ccff62c1/js/theme.js"></script>
    
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="æ¶é­”èè‰æ§" type="application/atom+xml">
</head>

<body id="bodyx" path="archives/code/translate-jianpu-into-piano-music/">
    <div class="hd posts">
    <a class="back" href="javascript:void(0);" target="_self"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            åˆ©ç”¨Web Audio APIå°†æ•°å­—ç®€è°±è½¬ä¸ºé’¢ç´æ›²
        </p>
        <hr>
    </div>

    
        <div class="outdated-notify">
            æœ¬æ–‡å‘å¸ƒäº <span class="num">-</span> å¤©å‰ï¼Œæ–‡ä¸­æ‰€æè¿°çš„ä¿¡æ¯å¯èƒ½å·²å‘ç”Ÿæ”¹å˜æˆ–æ˜¯è¿‡æ—¶ï¼Œè¯·æ³¨æ„è¾¨åˆ«
        </div>
    

    <div class="post-content">
        <p><img src="https://img.imjad.cn/images/2018/09/12/IMG_20180912_000303-01.jpg" alt="SUZUKI MR-250"></p>

    <div class="cplayer-template"
      id="cplayer-49190636"
      data-id="cplayer-49190636"
      data-playlist=%5B%7B%22name%22%3A%22loading...%22%2C%22artist%22%3A%22loading...%22%7D%5D
      data-ids=[34248552]
      data-autoplay="false"
      style="position: relative"
    ></div>
    <script>
      (function(){

        let getLyric = id => {
          return new Promise((resolve, reject) => {
            fetch("https://api.imjad.cn/cloudmusic/?type=lyric&id=" + id).then(res => {
              return res.json()
            }).then(data => {
              // console.log(data)
              if(!data.lrc){
                data = Object.assign(data, {
                  lrc: {lyric: '[00:00.00]æ‰¾ä¸åˆ°æ­Œè¯çš„è¯´â€¦(âŠ™ï¹âŠ™)[99:00.00]'},
                  tlyric: {lyric: '[00:00.00]ç¿»è¯‘ä¸å­˜åœ¨çš„è¯´â€¦â•®(â•¯â–½â•°)â•­[99:00.00]'}
                })
              }
              let obj = {
                lyric: data.lrc.lyric,
                tlyric: data.tlyric.lyric
              }
              resolve(obj);
            })
          })
        }

        function loadcplayer() {
          if (typeof window.cplayerList === 'undefined') window.cplayerList = {};
          if (typeof window.cplayerList["cplayer-49190636"] !== 'undefined') return;
          if (!cplayer.prototype.add163) cplayer.prototype.add163 = async function add163(id) {
            if (!id) throw new Error("Unable Property.");
            let lyric = await getLyric(id);
            // console.log(lyric)

            return fetch("https://api.imjad.cn/cloudmusic/?type=detail&id=" + id).then(function(res){return res.json()}).then(function(data){
              let obj = {
                name: data.songs[0].name,
                artist: data.songs[0].ar.map(function(ar){ return ar.name }).join(','),
                poster: data.songs[0].al.picUrl,
                lyric: lyric.lyric,
                sublyric: lyric.tlyric,
                src: 'https://api.imjad.cn/cloudmusic/?type=song&raw=true&id=' + id
              }
              this.add(obj);
              return obj;
            }.bind(this))
          }

          window.cplayerList["cplayer-49190636"] = new cplayer({
            element: document.getElementById("cplayer-49190636"),
            playlist: [{"name":"loading...","artist":"loading..."}],
            generateBeforeElement: false,
            deleteElementAfterGenerate: false,
            autoplay: false,
            zoomOutKana: true,
            style: `c-player {
                      font-size: 16px !important;
                      position: relative;
                      left: 50%;
                      transform: translateX(-50%);
                      width: auto;
                      max-width: 550px;
                      margin: 30px auto;
                    }
                    c-player .cp-controls{
                      user-select: none;
                    }
                    c-player .cp-lyric{
                      width: 100%;
                      margin: 0.41667em 0;
                    }
                    c-player .cp-play-button .cp-play-icon.cp-play-icon-paused {
                      margin-left: 0.8em;
                    }
                    c-player .cp-drop-down-menu {
                      line-height: 1.85;
                    }
                    @media (max-width: 768px) {
                      c-player{
                        font-size: 12px !important;
                        left: auto;
                        transform: none;
                        width: 100%;
                        margin: 10px auto;
                      }
                      c-player .cp-mainbody{
                        min-height: 5.16667em;
                      }
                      c-player .cp-poster{
                        width: 5.16667em;
                        height: 5.16667em;
                      }
                      c-player .cp-center-container{
                        height: 5.16667em;
                      }
                      c-player .cp-play-button, c-player .cp-volume-button, c-player .cp-prev-button, c-player .cp-list-button, c-player .cp-mode-button, c-player .cp-next-button{
                        width: 1.54167em;
                        height: 1.54167em;
                      }
                      c-player .cp-icon, c-player .cp-prev-icon, c-player .cp-next-icon, c-player .cp-volume-icon, c-player .cp-random-icon, c-player .cp-single-icon, c-player .cp-loop-icon, c-player .cp-list-icon{
                        height: 1.54167em;
                        width: 1.54167em;
                      }
                      c-player .cp-play-button{
                        height: 2.8em;
                        width: 2.8em;
                      }
                      c-player .cp-play-button .cp-play-icon{
                        margin: 0.8em;
                      }
                      c-player .cp-play-button .cp-play-icon.cp-play-icon-paused {
                        margin: 0.7875em;
                        margin-left: 1em;
                      }
                      c-player .cp-volume-icon {
                        width: 1.76667em;
                      }
                      c-player .cp-list-button {
                        width: 1.54167em;
                        height: 1.54167em;
                      }
                      c-player .cp-mode-button {
                        width: 1.54167em;
                        height: 1.54167em;
                      }
                    }
                    `
          });

          window.cplayerList["cplayer-49190636"].add163(34248552)

          let player = window.cplayerList["cplayer-49190636"]
          player.to(1)
          player.remove(player.playlist[0])
        }
        
        if (typeof window.cplayer === 'undefined' && !document.getElementById("cplayer-script")) {
          var js = document.createElement("script");
          js.src = 'https://cdn.jsdelivr.net/gh/MoePlayer/cPlayer/dist/cplayer.js';
          js.id = "cplayer-script";
          js.addEventListener("load", loadcplayer);
          document.body.appendChild(js);
        } else {
          window.addEventListener("load", loadcplayer);
        }
      })()
    </script>

<h2>å‰è¨€</h2><p>æœ€è¿‘æ‘¸å‡ºäº†åƒç°äº†å·²ä¹…çš„å¸ƒé²æ–¯å£ç´ï¼Œè¿™æŠŠå£ç´æ˜¯æˆ‘è¿˜åœ¨ä¸Šé«˜ä¸­æ—¶ï¼Œå¹»æƒ³ç€æˆä¸ºä¸€åå®‰é™çš„ç¾ç”·å­è€Œä¹°çš„ã€‚ä½†å½“æ—¶å·²æ˜¯é«˜ä¸‰ï¼Œæ¯•ç«Ÿè¦é¢å¯¹å­¦ç”Ÿæ—¶æœŸæœ€å¤§çš„BOSSâ€”â€”é«˜è€ƒï¼Œè¿™æŠŠå£ç´åœ¨æŠŠç©äº†ä¸ä¹…ä¹‹åï¼Œä¹Ÿè¢«æˆ‘æ”¶åˆ°äº†è¡Œæç®±çš„æœ€æ·±å¤„ã€‚</p>
<p>å²æœˆæ˜¯æŠŠæ€çŒªåˆ€ï¼Œæ—¶éš”äº”å¹´ï¼Œæˆ‘æ‚²ä¼¤çš„å‘ç°ï¼šæˆ‘è¿ä¸€æ›²ã€Twinkle, Twinkle, Little Starã€éƒ½ä¸ä¼šå¹äº†ï¼Œæ›´æ‚²ä¼¤çš„æ˜¯ï¼šæˆ‘ä¹Ÿè®¸å†ä¹Ÿä¸èƒ½æˆä¸ºä¸€ä¸ªå®‰é™çš„ç¾ç”·å­äº†ã€‚</p>
<p>åœ¨å¤§å­¦æ ¡å›­é‡Œå…»äº†å››å¹´ï¼Œæˆ‘ä¼¼ä¹é¡ºç†æˆç« çš„å˜è‚¥äº†ï¼Œä¹Ÿä¼¼ä¹é¡ºç†æˆç« çš„å˜å®…äº†ï¼Œæ¯å½“æˆ‘çœ‹åˆ°ã€Œæ­»è‚¥å®…ã€è¿™ä¸‰ä¸ªå­—ï¼Œæˆ‘éƒ½ä¼šè§‰å¾—æˆ‘çš„äººç”ŸåŸºè°ƒå·²ç»è¢«å¥ å®šäº†ä¸‰åˆ†ä¹‹äºŒã€‚</p>
<p>å¯æ˜¯ä½ å¯èƒ½è¦é—®äº†ï¼Œè¿™ä¸€æ®µè¯è·Ÿæœ¬æ–‡æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå…¶å®æ˜¯æœ‰çš„ï¼Œä½ çœ‹ï¼š</p>
<pre><code>                                                                  +----------------+
                                                                  | åŠåŠå­çš„JSæ°´å¹³  |
                                                                  +----------------+
                                                                    |
                                                                    |
                                                                    v
+--------------+     +------------+     +-------------------+     +----------------+     +--------------+
|      å®…      | --&gt; |  ACGéŸ³ä¹   | --&gt; | justice_eternalå§  | --&gt; |    æ•°å­—ç®€è°±    | --&gt; | ç®€è°±è½¬é’¢ç´æ›²  |
+--------------+     +------------+     +-------------------+     +----------------+     +--------------+
                                          ^                         ^
                                          |                         |
                                          |                         |
+--------------+     +------------+       |                       +----------------+
| å®‰é™çš„ç¾ç”·å­  | --&gt; | å¸ƒé²æ–¯å£ç´  | ------+                       |   Audio API    |
+--------------+     +------------+                               +----------------+</code></pre><p><em>æµç¨‹å›¾ä½¿ç”¨Graph Easyç”Ÿæˆ</em></p>
<p>æ­£å¥½æœ€è¿‘çœ‹äº†<a href="http://yrq110.me/2016/08/23/20160823-browser-piano-web-audio-api/" target="_blank" rel="noopener">ä¸€ç¯‡æ–‡ç« </a>ï¼ˆæ˜¯ä¸€ç³»åˆ—çš„æ–‡ç« ï¼Œå¯ä»¥å€Ÿæ­¤äº†è§£ä¸€ä¸‹Audio APIï¼‰ï¼Œä»‹ç»äº†<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Audio_API" target="_blank" rel="noopener">Web Audio API</a>çš„ä¸€äº›å†…å®¹å’Œåº”ç”¨ã€‚äºæ˜¯å°±ç”¨æˆ‘é‚£åŠåŠå­çš„JSæ°´å¹³ï¼Œå†™äº†è¿™ä¸ªå°å·¥å…·ï¼Œæ¥æŠŠæ•°å­—ç®€è°±è½¬ä¸ºé’¢ç´å¼¹å¥çš„å£°éŸ³ã€‚</p>
<p>ä½†æ•°å­—ç®€è°±æœ¬èº«æœ‰å¾ˆå¤§å±€é™ã€‚ä¸ºäº†æ–¹ä¾¿åˆå­¦è€…å…¥é—¨ï¼›åŒæ—¶ä¸ºäº†æ–¹ä¾¿è®°å½•å’Œä¼ æ’­ï¼Œåªè®°å½•äº†éŸ³è°ƒè€Œèˆå¼ƒäº†ä¸é¢‘ç‡æœ‰å…³çš„ä¿¡æ¯ã€‚è¿™ä½¿å¾—æ•°å­—ç®€è°±å‡ ä¹åªæœ‰å¬è¿‡åŸæ›²çš„äººæ‰èƒ½æ¼”å¥ï¼Œè€Œå³ä½¿å¬è¿‡çš„äººè¦å‡†ç¡®çš„æ¼”å¥å‡ºæ¥ä¹Ÿä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ã€‚è¿™ç§ç‰¹ç‚¹ä¹Ÿä½¿å¾—æ•°å­—ç®€è°±æ›´é€‚ç”¨äºä¸€äº›æ¯”è¾ƒå³å…´çš„ã€ä¸æ˜¯å¤ªæ­£å¼çš„åœºåˆå’Œä¹å™¨ã€‚</p>
<p>è€Œæ— æ—‹å¾‹+é’¢ç´+åˆæˆéŸ³ï¼Œæ³¨å®šå¾—å‡ºçš„ç»“æœä¼šå·®å¼ºäººæ„ã€‚ç»“æœä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œå•è°ƒçš„éŸ³èŠ‚å’Œå•è°ƒçš„æ—‹å¾‹ï¼Œåªèƒ½å¬ä¸ªå“äº†ã€‚ä¸è¿‡æ—¢ç„¶éƒ½å†™å‡ºæ¥äº†ï¼Œé‚£å°±å‘å‡ºæ¥å§ï¼Œè¯´ä¸å®šå“ªå¤©èƒ½ç”¨å¾—ä¸Šå‘¢ğŸŒ</p>
<h2>å°å·¥å…·</h2><p><input id="jianpu2piano" type="text" placeholder="è¾“å…¥æ•°å­—ç®€è°±" value="1155665 4433221"></input>ã€€<input type="button" onclick="jianpu(document.getElementById('jianpu2piano').value);" value="play"></input><br>ã€€<br> ã€€<br>  ã€€<br>ä¸‹é¢çš„å†…å®¹æ¬è¿è‡ªGithubé¡¹ç›®é¡µçš„è¯´æ˜æ–‡æ¡£<br>!<a href="https://github.com/journey-ad/jianpu" target="_blank" rel="noopener">https://github.com/journey-ad/jianpu</a></p>
<h2>JIANPU.js</h2><p>åˆ©ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Audio_API" target="_blank" rel="noopener">Web Audio API</a>å°†æ•°å­—ç®€è°±è½¬ä¸ºé’¢ç´æ›²</p>
<p><a href="http://journey-ad.github.io/jianpu/" target="_blank" rel="noopener">DEMO</a></p>
<h3>å…³äºæ•°å­—ç®€è°±</h3><p>æ•°å­—ç®€è°±æ˜¯ç®€è°±è®°è°±æ³•çš„ä¸€ç§æ›´ç®€åŒ–å½¢å¼ï¼Œç›¸å¯¹äºç®€è°±ä»…ä¿ç•™äº†éŸ³è°ƒï¼Œè€Œä¸è®°å½•æ—‹å¾‹ä¿¡æ¯</p>
<p>è§„å®šå¦‚ä¸‹ï¼š</p>
<ul>
<li>éŸ³ç¬¦ä»¥æ•°å­—1ã€2ã€3ã€4ã€5ã€6ã€7è¡¨ç¤º</li>
<li>è°ƒå·ä¸ºCå¤§è°ƒ</li>
<li>è‹¥ä¸ºåŠéŸ³ï¼Œå°±åœ¨éŸ³ç¬¦å‰æ–¹åŠ ä¸€ä¸ª<code>#</code>å·</li>
<li>è‹¥é«˜ä¸€ä¸ªå…«åº¦ï¼ŒéŸ³ç¬¦å°±ç”¨ä¸­æ‹¬å·<code>[]</code>åŒ…è£¹èµ·æ¥ï¼Œå†é«˜ä¸€ä¸ªå…«åº¦ï¼Œå°±ç”¨åŒé‡ä¸­æ‹¬å·<code>[[]]</code>åŒ…è£¹èµ·æ¥</li>
<li>è‹¥ä½ä¸€ä¸ªå…«åº¦ï¼ŒéŸ³ç¬¦å°±ç”¨å°æ‹¬å·<code>()</code>åŒ…è£¹èµ·æ¥ï¼Œå†é«˜ä¸€ä¸ªå…«åº¦ï¼Œå°±ç”¨åŒé‡å°æ‹¬å·<code>(())</code>åŒ…è£¹èµ·æ¥</li>
<li>ç©ºæ ¼ã€æ¢è¡Œå’Œ<code>-</code>å·è¡¨ç¤ºæš‚åœä¸€ä¸ªéŸ³çš„æ—¶é•¿ï¼Œå‡ºç°å¤šä¸ªå°†æš‚åœå¤šæ¬¡</li>
</ul>
<p>ç”±äºæ•°å­—ç®€è°±ä¸è®°å½•æ—‹å¾‹ä¿¡æ¯ï¼Œå› æ­¤ä¸é€‚åˆè®°å½•èŠ‚å¥å¤æ‚å¤šå˜çš„ä¹æ›²ï¼Œå¯å–„åŠ ä½¿ç”¨æš‚åœç¬¦æ¥æ§åˆ¶èŠ‚å¥</p>
<h3>ä½¿ç”¨</h3><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token function">jianpu</span><span class="token punctuation">(</span><span class="token string">'1234567[1]'</span><span class="token punctuation">)</span>
<span class="token function">jianpu</span><span class="token punctuation">(</span><span class="token string">'1155665 4433221 5544332 5544332 1155665 4433221'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3>è°±é¢ç¤ºä¾‹</h3><h4>éŸ³è°ƒæµ‹è¯•</h4><pre><code>((1))((#1))((2))((#2))((3))((4))((#4))((5))((#5))((6))((#6))((7))
(1)(#1)(2)(#2)(3)(4)(#4)(5)(#5)(6)(#6)(7)
1#12#234#45#56#67
[1][#1][2][#2][3][4][#4][5][#5][6][#6][7]
[[1]][[#1]][[2]][[#2]][[3]][[4]][[#4]][[5]][[#5]][[6]][[#6]][[7]]</code></pre><h4>å°æ˜Ÿæ˜Ÿ</h4><pre><code>1155665 4433221 5544332 5544332 1155665 4433221</code></pre><h4>ä¸¤åªè€è™</h4><pre><code>1231 1231 345 345 565431 565431 2(5)1 2(5)1</code></pre><h4>ä¸Šå­¦æ­Œ</h4><pre><code>12315 66[1]65 66[1]563 653531231 12315 66[1]65 66[1]563 653531231</code></pre><h4>ç²‰åˆ·å°†</h4><pre><code>5353531 24325 5353531 24321 2244325 24325 5353531 24321</code></pre><h4>æ•°é¸­å­</h4><pre><code>[1][1]553653 21231- 3-1-331 33565 6665444 23212 3-1-3-1 33566 [1]-5563 21235 [1]-5563 21231</code></pre><h4>å“†å•¦Aæ¢¦</h4><pre><code>(6)22#47#46 676#45#43
(7)335[#1][#1]7655#4(7)#123
(6)22#47#46 676#45#43
(7)335[#1][#1]7655#4(7)#132
7765676 3#4#536 763#4#536
7653[#1]76765 67#432</code></pre><h4>ç™½é‡‘ãƒ‡ã‚£ã‚¹ã‚³</h4><pre><code>35653 23211- (6)12332122--
35653 23211- (6)12353211--
1(6)1-1121 1(6)1-1131-(5) (6)(5)(6)1 23211
1(6)1-1112 1(6)1-11131-(5) (6)123211--
11(6)1111 111121(6)(5)(6)1 123
11(6)1111 111121(6) 122-122 12123-5--

56235 (6)123(6)12 (6)123(6)11 (5)-132-123--
(6)123(6)12 (6)123521 (5)132 11--
(5)(6)-(5)(6) (5)(6)1232-
12-12 1231(6)11-
(5)(6)-(5)(6) (5)(6)1235321
(6)1-(5)(6) 1121211</code></pre><h4>è‡´çˆ±ä¸½ä¸</h4><pre><code>[3][#2][3][#2][3]7[2][1]6 1367 3#57[1]3-
[3][#2][3][#2][3]7[2][1]6 1367 3[1]7
[3][#2][3][#2][3]7[2][1]6 1367 3#57[1]3-
[3][#2][3][#2][3]7[2][1]6 1367 3[1]7
67[1][2][3]5[4][3][2]4[3][2][1]3[2][1]7
[2][3][2][3][#2][3][#2][3][2][3][#2][3]7[2][1]6
13673#57[1]3
[3][#2][3][#2][3]7][2][1]6 1367 2[1]76</code></pre><h4>å–€ç§‹è</h4><pre><code>(6)-(7)-1 (6)-1-(7)(6)(7)-(3) (7)-12-(7) 2221(7)(6)-
3-6-6 5-654-323-(6) 422-311 (7)(3)(3)1(7)(6)-
3-6-6 5-654-323-(6) 422-311 (7)(3)(3)1(7)(6)--
(6)-(7)-1 (6)-1-(7)(6)(7)-(3) (7)-12-(7) 2221(7)(6)-
3-6-6 5-654-323-(6) 422-311 (7)(3)(3)1(7)(6)-
3-6-6 5-654-323-(6) 422-311 (7)(3)(3)1(7)(6)</code></pre><h4>æ‰“é¶å½’æ¥</h4><pre><code>2525312 25251(7)(5)(6)1(5)
1(7)(6)(5)1561 56532(5)(6)(5)
35635 65312 22355535</code></pre><h4>åˆ«çœ‹æˆ‘åªæ˜¯ä¸€åªç¾Š</h4><pre><code>[1][1][1][1]753 5---
[1][1][1][1]753 5[2]--
[3][3][3][3][2][1]6 4[2]--
7777653 35---
[1][1][1][1]753 5---
[1][1][1][1]753 5[2]--
[3][3][3][3][2][1]6 4[2]--
7777[1][2] [1]--</code></pre><h4>START_DASH</h4><pre><code>5552567656
#4#4#4#4#4#4 #4#45#4
552 567 6565 12
5552 567 656
#4#4#4#4 #4#45#4
5552 567 656
3[1]76 5#45
33#45 #456 223#4 567
67[1] 7655
67[1] 76567 7
----
37777 7765#4 26666 66567
37777 7765#4 223#45 6[1]7
37777 7765#4 26666 66[1]77
[3][#4][5]3#45[#4][5][6]#456
[#4][5][6]656 23#45567
[1]33 36 5#4#45
----
(7)3#465 3#45 #456
----
26666 66543 15555 55456
26666 66543 11234567</code></pre><h4>æ—…ã®é€”ä¸­</h4><pre><code>#1#24#44 #1#23#43
333#2(7)(#5)-
#1#24#44 #1#23#43
333#2(7)3-

#5#5#5#5#43#2#2#1#2
#43#2#1#2(7)(#5)-
3#4#5#5#5#5#43#2#2#1#2
3#43#2#136#5-

1#1#2#1 1#1#2#1
#23#5#4 #13#5#4
#56[#1]7 3#46#5
3#4#5#46#5#2-

#1#1#1#23#4
#1#1#1#23#4#5#46#5-

2#24#2 2#24#2
4#4#6#5 #2#4#6#5
#67[#2][#1] 4#57#6
#4#5#6#57#64-

#2#4#6#57#6#2</code></pre><h4>è¿œã„ç©ºã¸</h4><pre><code>(7)(6)(7) #4#1 
2#1(6)(7) #123676 
(7)- #46#1 (6)(7)-
#4#1(7) #4#1 
2#1(6)(7) #123676 
(7)- #46#1 (6)(7)-
(6)#1(7) #467 676 3#46#12 
23#4 #43#43 23#456#67[#1]-
7-676 3#46[#1][2][3][#4] 
[#4][3][2][#1] 6[#1][2] [#1]7#67[#1] [#4][3][2][#1]6#47</code></pre><h4>æˆéƒ½</h4><pre><code>---(5)1 23533 (5)1 21(6)(5)
(5)1 23635 32 1252
35 5356[1]6 32 1233
35 533211 (5) 21311---

(5)1 23533 (5)1 21(6)(5)
(5)1 23655 21 1252
35 535[1]66 32 11233
35-- 32(6)1- 1-21--

--35 553566311 1253
35 53566311 (5)231
(5)(6)1 12233 356 56523
12 12(6)232 12222365</code></pre><h4>æ–­æ¡¥æ®‹é›ª</h4><pre><code>3 33 212223(6) 23(5) 1(7)(7)(5)3---
3 33 212223(6) 23(5) 1(7)(7)(3)(6)---
3 33 212223(6) 23(5) 1(7)(7)(5)3---
3 66 21223(6) 235 5321(6)---
[1]33[1]77[1] 52653 1(6)(6)123 777663
[1]33[1]776 652653 1(6)(6)123
3332(7)(7)(7)(3)(6)</code></pre><h3>ç¬¬ä¸‰æ–¹å†…å®¹</h3><table>
<thead>
<tr>
<th>ä½œå“å</th>
<th>éŸ³æºæ–‡ä»¶</th>
<th>åŸä½œè€…</th>
</tr>
</thead>
<tbody><tr>
<td>Berklee samples v.4</td>
<td><a href="https://archive.org/details/Berklee44v4" target="_blank" rel="noopener">Berklee samples v.4</a></td>
<td><a href="https://archive.org/details/@metasj" target="_blank" rel="noopener">metasj</a></td>
</tr>
</tbody></table>
<p>ã€€</p>
<script>
    async function jianpu(text, duration) {
    duration |= 220;

    var ctx, xml, data, frequencyRatioTempered, map;
    var list = [];

    // åˆå§‹åŒ–AudioContext
    window.AudioContext = window.AudioContext || window.webkitAudioContext;
    ctx = new AudioContext();

    // è·å–æŒ‡å®šéŸ³æºæ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®
    xml = new XMLHttpRequest();
    xml.responseType = 'arraybuffer';
    xml.open('GET', '//cdn.imjad.cn/xxx/piano.wav', true);
    xml.onload = function() {
        // è·å–äºŒè¿›åˆ¶æ•°æ®å¹¶è§£ç 
        ctx.decodeAudioData(
            xml.response,
            function(_data) {
                data = _data;
            },
            function(e) {
                alert(e.err);
            }
        );
    };
    xml.send();

    function sleep (time) {
        return new Promise((resolve) => setTimeout(resolve, time));
    }

    // æ ¹æ®å¹³å‡å¾‹å¾—å‡ºçš„ç›¸é‚»éŸ³è°ƒä¹‹é—´çš„é¢‘ç‡æ¯”(è¿‘ä¼¼å€¤)
    frequencyRatioTempered = 1.059463;

    map = {
        '((1))' : '36', '((#1))': '35', '((2))' : '34', '((#2))': '33', '((3))' : '32', '((4))': '31',
        '((#4))': '30', '((5))' : '29', '((#5))': '28', '((6))' : '27', '((#6))': '26', '((7))': '25',
        '(1)' : '24', '(#1)': '23', '(2)' : '22', '(#2)': '21', '(3)' : '20', '(4)': '19',
        '(#4)': '18', '(5)' : '17', '(#5)': '16', '(6)' : '15', '(#6)': '14', '(7)': '13',
        '1' : '12', '#1': '11', '2' : '10', '#2': '9', '3' : '8', '4': '7',
        '#4': '6',  '5' : '5',  '#5': '4',  '6' : '3', '#6': '2', '7': '1',
        '[1]' : '0',  '[#1]': '-1', '[2]' : '-2', '[#2]': '-3', '[3]' : '-4',  '[4]': '-5',
        '[#4]': '-6', '[5]' : '-7', '[#5]': '-8', '[6]' : '-9', '[#6]': '-10', '[7]': '-11',
        '[[1]]' : '-12', '[[#1]]': '-13', '[[2]]' : '-14', '[[#2]]': '-15', '[[3]]' : '-16', '[[4]]': '-17',
        '[[#4]]': '-18', '[[5]]' : '-19', '[[#5]]': '-20', '[[6]]' : '-21', '[[#6]]': '-22', '[[7]]': '-23',
    }

    function play(k){
        var i, v, frequencyRatio;

        v = map[k];

        // æ ¹æ®åŸºå‡†éŸ³Cæ±‚å¾—å…¶ä»–éŸ³è°ƒç›¸å¯¹äºå®ƒçš„é¢‘ç‡æ¯”ä¾‹
        frequencyRatio = 1;
        if(v > 0){
            for (i = 0; i < v; i++) {
                frequencyRatio /= frequencyRatioTempered;
            }
        }else{
            for (i = 0; i > v; i--) {
                frequencyRatio *= frequencyRatioTempered;
            }
        }

        var bufferSource = ctx.createBufferSource();
        bufferSource.buffer = data;
        // é€šè¿‡æ”¹å˜éŸ³æºæ’­æ”¾é€Ÿåº¦çš„æ¯”ç‡ï¼Œè°ƒæ•´éŸ³é«˜
        bufferSource.playbackRate.value = frequencyRatio;
        bufferSource.connect(ctx.destination);
        bufferSource.start(0);
    }    

    list.push(' ');
    for (var i = 0; i < text.length; i++) {
        switch(text[i]){
            case ' ':
            case '-':
            case '\n':
                list.push(' ');
                break;
            case '(':
            case '[':
                if(text[i+1] === '(' || text[i+1] === '['){
                    if(text[i+2] === '#'){
                        list.push(text[i] + text.substr(i+1, 5));
                        i+=5;
                    }else{
                        list.push(text[i] + text.substr(i+1, 4));
                        i+=4;
                    }
                }else if(text[i+1] === '#'){
                    list.push(text[i] + text.substr(i+1, 3));
                    i+=3;
                }else{
                    list.push(text[i] + text.substr(i+1, 2));
                    i+=2;
                }
                break;
            case '#':
                list.push(text[i] + text.substr(i+1, 1));
                i+=1;
                break;
            default:
                list.push(text[i]);
        }
    }

    for (var i = 0; i < list.length; i++) {
        if(list[i] === ' '){
            await sleep(duration);
        }else{
            // console.log(list[i]);
            play(list[i]);
            await sleep(duration);
        }
    }
}
</script>

    </div>

    
        <hr class="fhr">
        <div id="vcomments"></div>
    

    <script>
        var pub_date = 1536631320000;
    </script>
</div>
    <div class="footer"
     id="footer">
    <p>
        Copyright Â© 2020 <a class="flink"
           href="https://nocilol.me">æ¶é­”èè‰æ§</a> Â· Theme by <a class="flink"
           href="https://github.com/sanjinhub/hexo-theme-geek">Geek</a>.
        <br>
        Made with <i class="fa fa-heart throb"
           style="color:#d43f57"></i> by <span class="author"
              itemprop="copyrightHolder">journey.ad</span>.
        <label class="el-switch el-switch-green el-switch-sm"
               style="vertical-align: sub;">
            <input type="checkbox"
                   name="switch"
                   id="update_style">
            <span class="el-switch-style"></span>
        </label>
        <!--         <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
        </script> -->
    </p>
</div>
<input type="hidden"
       id="web_style"
       value="white">
<input type="hidden"
       id="valine_appid"
       value="CaQKuPQDfnfPFUkTw6MMt8ME-gzGzoHsz">
<input type="hidden"
       id="valine_appKey"
       value="uWuwGS1xiIwh3zHKENc7ubyL">
<script src='//cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js'></script>

    <script src="https://cdn.jsdelivr.net/gh/journey-ad/nocilol.me@ccff62c1/libs/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/journey-ad/nocilol.me@ccff62c1/libs/highlight/highlight.pack.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/journey-ad/nocilol.me@ccff62c1/js/js.js"></script>

<style type="text/css">
    .v * {
        /* color: #698fca; */
    }

    .v .vlist .vcard .vhead .vsys {
        color: #3a3e4a;
    }

    .v .vlist .vcard .vh .vmeta .vat {
        color: #638fd5;
    }

    .v .vlist .vcard .vhead .vnick {
        color: #6ba1ff;
    }

    .v a {
        color: #8696b1;
    }

    .v .vlist .vcard .vhead .vnick:hover {
        color: #669bfc;
    }

    .v .vcards .vcard .vhead .vnick {
        padding-left: 1px;
    }

    .v .vcontent .vemoji {
        max-width: 30px;
    }

    .v[data-class=v] p {
        color: inherit;
    }

</style>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/kesshouban.model.json"},"display":{"position":"right","width":325,"height":300,"hOffset":-75,"vOffset":0},"dialog":{"enable":true},"mobile":{"show":false},"react":{"opacity":1},"log":false});</script></body>

</html>